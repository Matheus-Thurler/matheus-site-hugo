{{/* VÃ­deos Recentes do YouTube - Automatizado
Arquivo: layouts/_partials/content/custom_2.html
Dados: data/youtube.json (atualizado automaticamente)
*/}}

{{ $youtubeData := .Site.Data.youtube }}
{{ if $youtubeData.recent_videos }}
<div class="bg-card border-border rounded-xl border p-6 shadow-sm mb-6">
  <h2 class="text-foreground text-2xl font-bold mb-4">ðŸŽ¥ {{ i18n "custom.recentVideos" }}</h2>

  <div class="grid gap-4 md:grid-cols-2">
    {{ range $youtubeData.recent_videos }}
    <div class="bg-muted/50 rounded-lg p-4 hover:bg-muted transition-colors">
      <h3 class="text-foreground font-semibold mb-2">{{ .title }}</h3>
      <p class="text-muted-foreground text-sm mb-3 line-clamp-2">
        {{ .description }}
      </p>

      <iframe class="w-full h-64 md:h-72 rounded-md" src="{{ .embed_url }}" title="{{ .title }}" frameborder="0"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
        referrerpolicy="strict-origin-when-cross-origin" allowfullscreen>
      </iframe>

      <div class="mt-3 flex items-center justify-between">
        <a href="{{ .watch_url }}" target="_blank" class="text-primary hover:underline text-sm font-medium">
          {{ i18n "custom.watch_video" }} â†’
        </a>
        <span class="text-xs text-muted-foreground">
          {{ dateFormat "02 Jan 2006" .published_at }}
        </span>
      </div>
    </div>
    {{ end }}
  </div>

  {{ if $youtubeData.last_updated }}
  <div class="mt-4 text-xs text-muted-foreground text-center">
    {{ i18n "custom.videos_updated" }}: {{ dateFormat "02/01/2006 15:04" $youtubeData.last_updated }}
  </div>
  {{ end }}
</div>
{{ end }}